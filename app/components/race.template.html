<!-- <div class="modal fade" [id]="getModalId()"> -->

<div class="container" *ngIf="currentRegata != null && currentRace != null">
    <breadcumb
            [labels]="['Dashboard', 'Regatas', currentRegata.name, currentRace.name]"
            [routes]="[['/dashboard'], 
                        ['/dashboard/regatas'],
                        ['/dashboard/regatas/', currentRegata.identifier],
                        ['/dashboard/regatas/', isNew ? 'new' : currentRegata.identifier, 'races', raceId, 'edit']]">
    </breadcumb>

    <div class="container" style="margin-top:30px;">
        <div class="panel panel-default">
            <div class="panel-heading">
                <span *ngIf="indexRace == null">
                    <div class="panel-title" style="font-size: 1.5em;"><strong>Edition de Course</strong></div>
                </span>
                <span *ngIf="indexRace != null">
                    <div class="panel-title" style="font-size: 1.5em;"><strong>Nouvelle Course</strong></div>
                </span>
            </div>

            <div class="panel-body">
                <div class="input-group">
                    <span class="input-group-addon">Name</span>
                    <input type="text" id="newName" class="form-control" [(ngModel)]="newName">
                </div>
                <div *ngIf="missName == true" style="color:red;">
                    Le nom de la course doit être renseigné.
                </div><br />

                    <div class="input-group">
                    <span class="input-group-addon">Start Date</span>
                    <input type="text" id="newStartDate" class="form-control" [(ngModel)]="newStartDate">
                </div>
                <div *ngIf="missStartDate == true" style="color:red;">
                    La date de début doit être renseignée.
                </div><br />

                <div class="input-group">
                    <span class="input-group-addon">End Date</span>
                    <input type="text" id="newEndDate" class="form-control" [(ngModel)]="newEndDate">
                </div>
                <div *ngIf="missEndDate == true" style="color:red;">
                    La date de fin doit être renseignée.
                </div><br />
            </div>    

            <div *ngIf="currentRace.concurrents == null" style="text-align:left; margin-left:1.5%;">
                Il n'y a pas encore de skipper pour cette course.
                <br /><br />
            </div>
            <div *ngIf="currentRace == null" style="text-align:left; margin-left:1.5%;">
                Veuillez donner un nom à la course et l'enregistrer avant d'ajouter des participants.
                <br /><br />
            </div>

            <!--
            <div *ngIf="currentRace.concurrents != null">
                <div *ngFor="let racer of currentRace.concurrents; let i = index" style="text-align: left; margin-left:5%;" class="btn-group" role="group">
                    <div class="row">
                        <button type="button" class="btn btn-default" style="background-color:#f3bebe; margin-bottom:10px;" [routerLink]="[i, 'edit']"><span class="glyphicon glyphicon-pencil"></span>  {{ racer.skipperName }}</button>
                        <button type="button" class="btn btn-default" style="margin-bottom:10px;"><span class="glyphicon glyphicon-view"></span>  {{racer.boatIdentifier }}</button><br /><br />
                    <button type="button" class="btn btn-default" style="margin-right:10px; margin-bottom:10px;"><span class="glyphicon glyphicon-view"></span>  {{racer.device.hwid }}</button>    
                    </div>
                </div>
            </div> -->

            <div *ngIf="currentRace.concurrents != null">
                
                <!-- display existing racers for current race -->
                <div class="list-group">
                    <div *ngFor="let racer of currentRace.concurrents; let i = index" class="list-group-item" style="margin-bottom:-1px; margin-left:60px; margin-right:60px;">
                    
                        <h4 class="list-group-item-heading">{{ racer.skipperName }}</h4>

                        <div class="list-group-item-text">
                            <div class="row">
                                <div class="col-xs-6">
                                    <i class="glyphicon glyphicon-boat"></i>
                                    {{ racer.boatIdentifier }}
                                </div>
                                
                                <div class="col-xs-6" style="text-align: right">
                                    <button type="button" class="btn btn-danger" [routerLink]="[i, 'edit']"><span class="glyphicon glyphicon-pencil"></span></button>
                                    <button type="button" class="btn btn-default" (click)="onRemoveRacer(i)"><span class="glyphicon glyphicon-remove"></span></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- add a new racer for current race when clicked -->
            <span *ngIf="currentRace != null">
            <div class="row">
                <div class="col-xs-2 col-md-1">
                    <div style="text-align: left;" class="btn-group" role="group">
                        <button type="button" class="btn btn-default" style="margin-left:60px;" (click)="onNewRacer()"><span class="glyphicon glyphicon-plus"></span> Add a racer</button>
                    </div>
                </div>
            </div>
            </span>

            <div class="btn-group;btn pull-right" role="group" style="margin-right:60px; margin-bottom:15px;">
                <button type="button" class="btn btn-default" (click)="onCancel()"><a style="color: black;">Cancel </a><span class="glyphicon glyphicon-remove"></span></button>
                <button type="button" class="btn btn-danger" (click)="onSaveRace()"><a style="color: white;">Save Race </a><span class="glyphicon glyphicon-ok"></span></button>
            </div><br /><br /><br /><br />
        </div> 
    </div>     
</div>


            

