<!-- <div class="modal fade" [id]="getModalId()">-->

<!-- <div class="modal fade" [id]="getModalId()">-->
<style>
    .battery-container {
        border-color: #E0E0E0;
        border-width: 2px;
        border-style: solid;
        background-color: #FAFAFA;
        width: 100%;
        height: 2em;
        padding: 0.25em;
        border-radius: 10px;
        box-shadow: 2px 2px 7px #E8E8E8;
    }

    .battery-inner {
        vertical-align: text-bottom;
        height: 100%;
        text-align: center;
        overflow: hidden;
        line-height: 1.3em;
        border-radius: 10px;
    }

</style>

<div class="modal-dialog" role="dialog" *ngIf="currentRegata != null && currentRace != null && currentRacer != null">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
            <span *ngIf="isNewRacer == true">
                <div class="modal-title" style="font-size: 1.5em;"><strong>New Racer:</strong></div>
            </span>
             <span *ngIf="isNewRacer != true">
                <div class="modal-title" style="font-size: 1.5em;"><strong>Racer Edition:</strong></div>
            </span>
        </div>

        <div class="modal-body">
            <!-- NEW RACER -->
            <span *ngIf="isNewRacer == true">
                <div class="input-group">
                    <span class="input-group-addon">Name</span>
                    <input type="text" id="newName" class="form-control" [(ngModel)]="newName"/>
                </div>
                <div *ngIf="missName == true" style="color:red;">
                    Le nom du skipper doit être renseigné.
                </div><br />

                <div class="input-group">
                    <span class="input-group-addon">Boat name</span>
                    <input type="text" id="newBoatId" class="form-control" [(ngModel)]="newBoatId">
                </div>
                <div *ngIf="missBoat == true" style="color:red;">
                    Le nom du bateau doit être renseigné.
                </div><br />

                <!-- device list -->      
                <div class="input-group" style="margin-right:0%; margin-left:0%;">
                    <span class="input-group-addon">Device</span>        
                    <div class="form-group">
                        <select class="form-control" [(ngModel)]="newDeviceId">
                            <option *ngFor="let device of devices; let i = index" [value]="i">{{device.hwid}} - {{ device.name }}</option>
                        </select>
                        <br />
                    </div>
                </div><br />      
            </span>

            <!-- RACER EDITION -->
            <span *ngIf="isNewRacer != true">
                <div class="input-group">
                    <span class="input-group-addon">New name</span>
                    <input type="text" id="newName" class="form-control" [(ngModel)]="newName"/>
                </div>
                <div *ngIf="missName == true" style="color:red;">
                    Le nom du skipper doit être renseigné.
                </div><br />
                
                <div class="input-group">
                    <span class="input-group-addon">New boat name</span>
                    <input type="text" id="newBoatId" class="form-control" [(ngModel)]="newBoatId">
                </div>
                <div *ngIf="missBoat == true" style="color:red;">
                    Le nom du bateau doit être renseigné.
                </div><br />

                <!-- device list -->      
                <div class="input-group" style="margin-right:0%; margin-left:0%;">
                    <span class="input-group-addon">New Device</span>        
                    <div class="form-group">
                        <select class="form-control" [(ngModel)]="newDeviceId">
                            <option *ngFor="let device of devices; let i = index" [value]="i">{{device.hwid}} - {{ device.name }}</option>
                        </select>
                        <br />
                    </div>
                </div><br /> 
            </span>

            <div class="animated fadeIn" *ngIf="devices[this.newDeviceId] != null">

                <!-- Energy -->
                <div class="row">
                    <div class="col-xs-6 col-sm-4 col-md-3" style="height: 2em;">
                        <img src="app/static/battery-icon.png" style="width: 2em; height: 2em;" />
                        <span style="padding-left: 10px; display: inline-block; line-height: 2em; ">
                            <strong>Energy Level</strong>
                        </span>
                    </div> 
                    <div class="col-xs-6 col-sm-8 col-md-9">
                        <div class="battery-container">
                            <div class="battery-inner" [style.width]="devices[newDeviceId].batteryLevel + '%'" [style.background]="getBackground(devices[newDeviceId].batteryLevel)" >
                                <strong style="background-color: rgba(255, 255, 255, 0.75); border-radius: 5px;" >{{ devices[newDeviceId].batteryLevel }} %</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <div *ngIf="devices[newDeviceId].batteryLevel < 50"><br /><br />
                ATTENTION: the current device's battery level is only {{ devices[newDeviceId].batteryLevel }} %
                </div><br />
            </div>

            <div *ngIf="missDevice == true" style="color:red;"><br />
                Veuillez choisir un device.
            </div>
        </div>
        
        <div class="modal-footer">
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-default" (click)="onCancel()"><a style="color: black;">Cancel </a><span class="glyphicon glyphicon-remove"></span></button>
                <button type="button" class="btn btn-danger" (click)="onSaveRacer()"><a style="color: white;">Save Racer </a><span class="glyphicon glyphicon-ok"></span></button>
            </div>
        </div>           
    </div>
</div>

<!-- [routerLink]="['/dashboard/regatas/', currentRegata.identifier, 'races', raceId, 'edit']"  -->

<!-- </div>-->